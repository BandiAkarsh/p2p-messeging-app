name = "ecomesh-signaling"
main = "dist/index.js"
compatibility_date = "2025-02-04"
compatibility_flags = ["nodejs_compat"]

[durable_objects]
bindings = [
  { name = "SIGNALING_ROOMS", class_name = "SignalingRoom" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["SignalingRoom"]

[vars]
ENVIRONMENT = "development"

[env.production]
name = "ecomesh-signaling-prod"
compatibility_date = "2025-02-04"
compatibility_flags = ["nodejs_compat"]

[env.production.durable_objects]
bindings = [
  { name = "SIGNALING_ROOMS", class_name = "SignalingRoom" }
]

[[env.production.migrations]]
tag = "v1"
new_sqlite_classes = ["SignalingRoom"]

[env.production.vars]
ENVIRONMENT = "production"

[env.staging]
name = "ecomesh-signaling-staging"

